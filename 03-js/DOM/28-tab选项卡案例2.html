<!-- 
    
 -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>微信：17001100482 JS全栈开发</title>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
            list-style: none;
        }

        .box {
            width: 1030px;
            height: 530px;
            /*background: pink;*/
            margin: 100px auto 0;
        }

        .box ul {
            border: 1px solid #ccc;
            overflow: hidden;
            width: 320px;
        }

        .box ul li {
            float: left;
            position: relative;
        }

        .box ul li a {
            display: block;
            width: 80px;
            height: 31px;
            line-height: 31px;
            border-top: 3px solid #fff;
            text-decoration: none;
            color: #333;
            text-align: center;
        }

        .box a.current {
            border-color: red;
        }

        .box ul li span {
            width: 1px;
            height: 15px;
            background: #ccc;
            position: absolute;
            right: 0;
            top: 12px;
        }

        .box div {
            border: 1px solid #ccc;
            display: none;
        }
    </style>
</head>

<body>
    <div class="box" id="box">
        <ul id="list">
            <li>
                <a href="##" class="current">女士精品</a>
                <span></span>
            </li>
            <li>
                <a href="##">国妆名牌</a>
                <span></span>
            </li>
            <li>
                <a href="##">男士精品</a>
                <span></span>
            </li>
            <li>
                <a href="##">清洁用品</a>
            </li>
        </ul>
        <div style="display: block;">
            <img src="imgs/01.jpg" />
        </div>
        <div>
            <img src="imgs/02.jpg" />
        </div>
        <div>
            <img src="imgs/03.jpg" />
        </div>
        <div>
            <img src="imgs/04.jpg" />
        </div>
    </div>
</body>
<script>
    let box = document.getElementById("box");
    let divs = box.getElementsByTagName("div");
    let list = document.getElementById("list");
    let as = list.getElementsByTagName("a");

    /* // 没有延时效果
    for(let i=0; i<as.length; i++){
        as[i].onmouseover = function(){
            for(let j=0; j<as.length; j++){
                as[j].className = "";
                divs[j].style.display = "none";
            }
            this.className = "current";
            divs[i].style.display = "block";
        }
    } */

    let timer = null; // null 和 undefined的区别 后面讲
    // 延时效果
    for (let i = 0; i < as.length; i++) {
        as[i].onmouseover = function () {
            // setTimeout 使用箭头函数 箭头函数中的this还表示定时器外面的this
            // 定时器中不是箭头函数，是普通函数，它里面的this不是事件源，是window
            timer = setTimeout(() => {
                console.log(this)
                for (let j = 0; j < as.length; j++) {
                    as[j].className = "";
                    divs[j].style.display = "none";
                }
                this.className = "current";
                divs[i].style.display = "block";
            }, 300);
        }
        as[i].onmouseout = function(){
            clearTimeout(timer);
        }
    }
</script>

</html>